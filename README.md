# Bye Spam Bot
Иногда в вашей беседе Telegram висят внешние удобные, интересные, или пользующиеся популярностью боты.
Например, в моей конфе друзей есть бот, который позволяет заводить свинку, и, нажимая каждый день на команду /grow, она худеет или толстеет. 
Весело, но есть одно но: часто такие боты пользуются своей возможностью писать в чат и прокидывают 5-6 реклам в день. Чтобы избавиться от реклам, воспользуемся этим Bye-spam ботом.

## Правила

Скрипт работает следующим образом - скорее всего, вы знаете, либо 

а) Какие слова бот ТОЧНО не должен употреблять (какие слова есть в рекламе, которую он отправляет, это, может быть, слово "Подписывайтесь" из "Подписывайтесь на телеграм канал разработчиков бота"), или 

б) сообщения ТОЛЬКО С КАКИМИ словами бот может отправлять (например, он всегда пишет "Ваша свинка подросла на 10 килограмм". Если в сообщении есть слово "подросла", или, "килограмм", что обычно не встречается в рекламе, то это нужное нам сообщение").

Следовательно, у бота есть параметры настройки
```python
GRAY_LIST = [11111111111, 2222222222]

ALLOWED_WORDS = ["hello", "bye", "how", "are", "you"]

FORBIDDEN_WORDS = ["ad", "spam", "18+"]

CHECK_ALLOWED = True      # Toggle Allowed-Words mode
CHECK_FORBIDDEN = False     # Toggle Forbidden-Words mode
```
- `GRAY_LIST` - user_id бота или пользователя, который у нас на карандаше (можно узнать с помощью @UserInfeBot или любого другого похожего бота)
- `CHECK_ALLOWED` - если True, то он будет проверять, есть ли в сообщении бота слово из списка `ALLOWED_WORDS`, которое доказывает, что это сообщение хорошее ("подросла","килограмм" из примера сверху). Если слово/слова из этого списка есть в сообщении, Bye-spam его не удаляет, но другие сообщения без разрешенных слов через фильтр не пройдут.
- `CHECK_FORBIDDEN` - если True, то он будет проверять, есть ли в сообщении бота слово из `FORBIDDEN_WORDS`, которое доказывает, что это сообщение - реклама ("Подписывайтесь" из примера сверху). Если такое слово/слова есть в сообщении, то оно удаляется, а все остальные сообщения без таких слов полностью разрешены.

Перед началом использования этого бота-скрипта, требуется заполнить эти параметры под Вас. Используйте режим на выбор, можете использовать оба, чтобы наверняка. Перед тем, как запускать фильтр, подумайте, какой способ работы бота Вам подходит, и какие слова служат триггером рекламы/другой дичи, и добавьте их в список.


## Пример
### Режим A: CHECK_ALLOWED = True, CHECK_FORBIDDEN = False
```python
GRAY_LIST = [11111111111, 2222222222]

ALLOWED_WORDS = ["hello", "bye", "how", "are", "you"]

FORBIDDEN_WORDS = ["ad", "spam", "18+"]

CHECK_ALLOWED = True  #!    
CHECK_FORBIDDEN = False
```
Примеры сообщений, которые будут фильтроваться от бота/пользователя из серого списка:
1. "Всем привет!" - **удаляется**
2. "Всем hello" - **не удаляется**
3. "Всем hello bye" - **не удаляется**
4. "Ad spam 18+ bye" - **не удаляется**
5. "Очень длинный текст, повествующий о культурной ценности альбома brat Charli xcx" - **удаляется**
6. "Очень длинный текст, повествующий о культурной ценности альбома brat Charli xcx hello" - **не удаляется**
7. "Очень длинный текст, повествующий о культурной ценности альбома brat Charli xcx ad" - **удаляется**
   
### Режим Б: CHECK_ALLOWED = False, CHECK_FORBIDDEN = True
```python
GRAY_LIST = [11111111111, 2222222222]

ALLOWED_WORDS = ["hello", "bye", "how", "are", "you"]

FORBIDDEN_WORDS = ["ad", "spam", "18+"]

CHECK_ALLOWED = False      
CHECK_FORBIDDEN = True #!
```
Примеры сообщений, которые будут фильтроваться от бота/пользователя из серого списка:
1. "Всем привет!" - **не удаляется**
2. "Всем hello" - **не удаляется**
3. "Всем hello bye" - **не удаляется**
4. "Ad spam 18+ bye" - **удаляется**
5. "Очень длинный текст, повествующий о культурной ценности альбома brat Charli xcx" - **не удаляется**
6. "Очень длинный текст, повествующий о культурной ценности альбома brat Charli xcx hello" - **не удаляется**
7. "Очень длинный текст, повествующий о культурной ценности альбома brat Charli xcx ad" - **удаляется**

### Режим В: CHECK_ALLOWED = True, CHECK_FORBIDDEN = True
```python
GRAY_LIST = [11111111111, 2222222222]

ALLOWED_WORDS = ["hello", "bye", "how", "are", "you"]

FORBIDDEN_WORDS = ["ad", "spam", "18+"]

CHECK_ALLOWED = True #!      
CHECK_FORBIDDEN = True #!
```
Примеры сообщений, которые будут фильтроваться от бота/пользователя из серого списка:
1. "Всем привет!" - **удаляется**
2. "Всем hello" - **не удаляется**
3. "Всем hello bye" - **не удаляется**
4. "Ad spam 18+ bye" - **удаляется**
5. "Очень длинный текст, повествующий о культурной ценности альбома brat Charli xcx" - **удаляется**
6. "Очень длинный текст, повествующий о культурной ценности альбома brat Charli xcx hello" - **не удаляется**
7. "Очень длинный текст, повествующий о культурной ценности альбома brat Charli xcx ad" - **удаляется**
   
## Установка

0. В директории бота пропишите 'pip install -r .\requirements.txt' (установите Python и Pip, если они у вас еще не установлены)
   
1. Создайте своего бота в Telegram боте @BotFather, получите для него токен.
2. Создайте в директории с ботом .env файл, в который нужно отправить токен бота (образец - в .env-example, токен нужно закинуть именно в новосозданный .env, а не в .env-example!)
3. Зайдите внутрь скрипта, и пропишите правила, по которым бот будет фильтровать сообщения (Раздел "Правила" в этом README)
4. Добавьте своего созданного бота в свою Telegram-группу
5. Дайте боту права админа
- 5.1 Проверьте, чтобы /setprivacy у бота в @BotFather стоял DISABLE
6. Запустите .py файл.



